---
title: "2020-02-26-MADdataviz"
author: "Rayna M Harris"
date: "2/17/2020"
output: md_document
---

# Customizing plots with colors and themes

## For Meet and Analyze Data, February 26, 2020

```{r setup}
library(tidyverse)
knitr::opts_chunk$set(echo = TRUE, fig.path = "./images/")
```

### View data

```{r data}
# view data
head(mpg)
summary(mpg)
```

## Plot without color

```{r basic}
## start with basic plot
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy))
```

## Plot with car colored by class or cylinder, DEFAULT color pallete

```{r default}
## color by factors, default
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy, color = as.factor(cyl)))
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy, color = as.factor(class)))

```

## Plot with car colored by class or cylinder, CUSTOM color pallete

```{r ordered}
## specify order
levelscyl <- c("4", "5", "6",  "8" )
levelsclass <- c("2seater", "subcompact", "compact", "midsize",
                 "suv", "minivan", "pickup")
mpg$cyl <- factor(mpg$cyl, levels = levelscyl)
mpg$class <- factor(mpg$class, levels = levelsclass)

## pick colors using http://colorbrewer2.org/
colorscyl <- c("4" = "#fdcc8a", 
               "5" = "#fc8d59", 
               "6" = "#e34a33",
               "8" = "#b30000")

colorsclass <- c("2seater" = "#e41a1c", 
                 "subcompact" = "#1b7837", 
                 "compact" = "#7fbf7b", "midsize" = "#d9f0d3",
                 "suv" = "#d8b365", 
                 "minivan" = "#dfc27d", "pickup" = "#bf812d")

colorsall <- c(colorscyl, colorsclass)

ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy, color = cyl)) +
  scale_color_manual(values = colorsall)
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy, color = class)) +
    scale_color_manual(values = colorsall)
```

## Scatter and box plots with custom THEMES

```{r theme}
mytheme <- function(){
  theme_classic() +
    theme(legend.position = "bottom",
          axis.text.y = element_text(face = "italic"),
          axis.title.y = element_text(face = "italic"),
          axis.text.x = element_text(angle = 45, hjust = 1))
}


ggplot(data = mpg) + 
  geom_boxplot(mapping = aes(x = class, y = hwy, fill = class)) +
    scale_fill_manual(values = colorsall)  +
  mytheme() +
  labs(subtitle = "Look, the x-axis is rotated and the y-axis is italic!",
       y = "engine displacement (L)", x = "class of car") +
  theme(legend.position = "none")
```

